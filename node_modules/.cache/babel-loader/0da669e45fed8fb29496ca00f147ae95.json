{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar use_ssr_1 = __importDefault(require(\"use-ssr\"));\n/**\n * Used for error checking. If the condition is false, throw an error\n */\n\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  if (a === void 0) {\n    a = '';\n  }\n\n  if (b === void 0) {\n    b = '';\n  }\n\n  if (c === void 0) {\n    c = '';\n  }\n\n  if (d === void 0) {\n    d = '';\n  }\n\n  if (e === void 0) {\n    e = '';\n  }\n\n  if (f === void 0) {\n    f = '';\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error = void 0;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args_1 = [a, b, c, d, e, f];\n      var argIndex_1 = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args_1[argIndex_1++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    throw error;\n  }\n}\n\nexports.invariant = invariant;\n\nexports.useExampleURL = function () {\n  var isBrowser = use_ssr_1.default().isBrowser;\n  return react_1.useMemo(function () {\n    return isBrowser ? window.location.origin : 'https://example.com';\n  }, [isBrowser]);\n};\n\nfunction useURLRequiredInvariant(condition, method, optionalMessage) {\n  var exampleURL = exports.useExampleURL();\n  react_1.useEffect(function () {\n    invariant(condition, method + \" requires a URL to be set as the 1st argument,\\n\\n      unless you wrap your app like:\\n\\n      <Provider url=\\\"\" + exampleURL + \"\\\"><App /></Provider>\\n\\n      \" + optionalMessage);\n  }, [condition, exampleURL, method, optionalMessage]);\n}\n\nexports.useURLRequiredInvariant = useURLRequiredInvariant;\n\nexports.isString = function (x) {\n  return typeof x === 'string';\n}; // eslint-disable-line\n\n/**\n * Determines if the given param is an object. {}\n * @param obj\n */\n\n\nexports.isObject = function (obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}; // eslint-disable-line\n\n/**\n * Determines if the given param is an object that can be used as a request body.\n * Returns true for native objects or arrays.\n * @param obj\n */\n\n\nexports.isBodyObject = function (obj) {\n  return exports.isObject(obj) || Array.isArray(obj);\n};\n\nexports.isFunction = function (v) {\n  return typeof v === 'function';\n};\n\nexports.isNumber = function (v) {\n  return Object.prototype.toString.call(v) === '[object Number]';\n};\n\nexports.remove = function (val) {\n  return {\n    from: function (arr) {\n      if (!arr) return;\n      var index = arr.indexOf(val);\n      if (index >= 0) arr[index] = arr[arr.length - 1], arr.pop();\n    }\n  };\n}; // const requestFields = Object.getOwnPropertyNames(Object.getPrototypeOf(new Request('')))\n// const responseFields = Object.getOwnPropertyNames(Object.getPrototypeOf(new Response()))\n// export const customResponseFields = [...responseFields, 'data']\n// TODO: come back and fix the \"anys\" in this http://bit.ly/2Lm3OLi\n\n/**\n * Makes an object that will match the standards of a normal fetch's options\n * aka: pulls out all useFetch's special options like \"onMount\"\n */\n\n\nexports.pullOutRequestInit = function (options) {\n  if (!options) return {};\n  var requestInitFields = ['body', 'cache', 'credentials', 'headers', 'integrity', 'keepalive', 'method', 'mode', 'redirect', 'referrer', 'referrerPolicy', 'signal', 'window'];\n  return requestInitFields.reduce(function (acc, key) {\n    if (key in options) acc[key] = options[key];\n    return acc;\n  }, {});\n};\n\nexports.isEmpty = function (x) {\n  return x === undefined || x === null;\n};\n\nvar Device;\n\n(function (Device) {\n  Device[\"Browser\"] = \"browser\";\n  Device[\"Server\"] = \"server\";\n  Device[\"Native\"] = \"native\";\n})(Device = exports.Device || (exports.Device = {}));\n\nvar Browser = Device.Browser,\n    Server = Device.Server,\n    Native = Device.Native;\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar canUseNative = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nvar device = canUseNative ? Native : canUseDOM ? Browser : Server;\nexports.isBrowser = device === Browser;\nexports.isServer = device === Server;\nexports.isNative = device === Native;\n\nexports.tryGetData = function (res, initialData, responseType) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var types, data;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          if (typeof res === 'undefined') throw Error('Response cannot be undefined... ðŸ˜µ');\n          if (typeof responseType === 'undefined') throw Error('responseType cannot be undefined... ðŸ˜µ');\n          types = Array.isArray(responseType) ? responseType : [responseType];\n          if (types[0] == null) throw Error('could not parse data from response ðŸ˜µ');\n          return [4\n          /*yield*/\n          , tryRetry(res, types)];\n\n        case 1:\n          data = _a.sent();\n          return [2\n          /*return*/\n          , exports.isFunction(initialData) ? initialData(data) : data || initialData];\n      }\n    });\n  });\n};\n\nvar tryRetry = function (res, types, i) {\n  if (i === void 0) {\n    i = 0;\n  }\n\n  return __awaiter(void 0, void 0, void 0, function () {\n    var error_1;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          _a.trys.push([0, 2,, 3]);\n\n          return [4\n          /*yield*/\n          , res.clone()[types[i]]()];\n\n        case 1:\n          return [2\n          /*return*/\n          , _a.sent()];\n\n        case 2:\n          error_1 = _a.sent();\n          if (types.length - 1 === i) throw error_1;\n          return [2\n          /*return*/\n          , tryRetry(res.clone(), types, ++i)];\n\n        case 3:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n};\n\nexports.responseFields = ['headers', 'ok', 'redirected', 'trailer', 'status', 'statusText', 'type', 'url', 'body', 'bodyUsed', 'data'];\nexports.responseMethods = ['clone', 'arrayBuffer', 'blob', 'formData', 'json', 'text'];\nexports.responseKeys = __spreadArrays(exports.responseFields, exports.responseMethods);\n\nexports.toResponseObject = function (res, data) {\n  return Object.defineProperties({}, exports.responseKeys.reduce(function (acc, field) {\n    if (exports.responseFields.includes(field)) {\n      acc[field] = {\n        get: function () {\n          var response = res instanceof Response ? res : res && res.current;\n          if (!response) return;\n          if (field === 'data') return data.current;\n          var clonedResponse = 'clone' in response ? response.clone() : {};\n          return clonedResponse[field];\n        },\n        enumerable: true\n      };\n    } else if (exports.responseMethods.includes(field)) {\n      acc[field] = {\n        value: function () {\n          var response = res instanceof Response ? res : res && res.current;\n          if (!response) return;\n          var clonedResponse = 'clone' in response ? response.clone() : {};\n          return clonedResponse[field]();\n        },\n        enumerable: true\n      };\n    }\n\n    return acc;\n  }, {}));\n};\n\nexports.emptyCustomResponse = exports.toResponseObject(); // TODO: switch this to .reduce()\n\nvar headersAsObject = function (headers) {\n  var obj = {};\n  headers.forEach(function (value, key) {\n    obj[key] = value;\n  });\n  return obj;\n};\n\nexports.serializeResponse = function (response) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var body, status, statusText, headers;\n    return __generator(this, function (_a) {\n      switch (_a.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , response.text()];\n\n        case 1:\n          body = _a.sent();\n          status = response.status, statusText = response.statusText;\n          headers = headersAsObject(response.headers);\n          return [2\n          /*return*/\n          , {\n            body: body,\n            status: status,\n            statusText: statusText,\n            headers: headers\n          }];\n      }\n    });\n  });\n};\n\nfunction useDeepCompareMemoize(value) {\n  var ref = react_1.useRef();\n  if (JSON.stringify(value) !== JSON.stringify(ref.current)) ref.current = value;\n  return ref.current;\n}\n\nexports.useDeepCallback = function (cb, deps) {\n  return react_1.useCallback(cb, useDeepCompareMemoize(deps));\n};\n\nexports.sleep = function (ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\n\nexports.isPositiveNumber = function (n) {\n  return Number.isInteger(n) && n > 0;\n};\n\nexports.makeError = function (name, message) {\n  var error = new Error(message);\n  error.name = name + '';\n  return error;\n};\n/**\n * Determines if we need to add a slash to front\n * of a path, and adds it if we do.\n * Cases:\n * (path = '', url = '' || null | undefined) => ''\n * (path = '?foo=bar', url = 'a.com')        => '?foo=bar'\n * (path = '?foo=bar', url = 'a.com/')       => '?foo=bar'\n * (path = 'foo', url = 'a.com')             => '/foo'\n * (path = 'foo', url = 'a.com/')            => 'foo'\n * (path = '/foo', url = 'a.com')            => '/foo'\n * (path = '/foo', url = 'a.com/')           => 'foo'\n * (path = '?foo=bar')                       => '?foo=bar'\n * (path = 'foo')                            => '/foo'\n * (path = '/foo')                           => '/foo'\n */\n\n\nexports.addSlash = function (input, url) {\n  if (!input) return '';\n\n  if (!url) {\n    if (input.startsWith('?') || input.startsWith('/')) return input;\n    return \"/\" + input;\n  }\n\n  if (url.endsWith('/') && input.startsWith('/')) return input.substr(1);\n  if (!url.endsWith('/') && !input.startsWith('/') && !input.startsWith('?')) return \"/\" + input;\n  return input;\n};","map":{"version":3,"sources":["../src/utils.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar use_ssr_1 = __importDefault(require(\"use-ssr\"));\n/**\n * Used for error checking. If the condition is false, throw an error\n */\nfunction invariant(condition, format, a, b, c, d, e, f) {\n    if (a === void 0) { a = ''; }\n    if (b === void 0) { b = ''; }\n    if (c === void 0) { c = ''; }\n    if (d === void 0) { d = ''; }\n    if (e === void 0) { e = ''; }\n    if (f === void 0) { f = ''; }\n    if (process.env.NODE_ENV !== 'production') {\n        if (format === undefined) {\n            throw new Error('invariant requires an error message argument');\n        }\n    }\n    if (!condition) {\n        var error = void 0;\n        if (format === undefined) {\n            error = new Error('Minified exception occurred; use the non-minified dev environment ' +\n                'for the full error message and additional helpful warnings.');\n        }\n        else {\n            var args_1 = [a, b, c, d, e, f];\n            var argIndex_1 = 0;\n            error = new Error(format.replace(/%s/g, function () { return args_1[argIndex_1++]; }));\n            error.name = 'Invariant Violation';\n        }\n        throw error;\n    }\n}\nexports.invariant = invariant;\nexports.useExampleURL = function () {\n    var isBrowser = use_ssr_1.default().isBrowser;\n    return react_1.useMemo(function () {\n        return isBrowser ? window.location.origin : 'https://example.com';\n    }, [isBrowser]);\n};\nfunction useURLRequiredInvariant(condition, method, optionalMessage) {\n    var exampleURL = exports.useExampleURL();\n    react_1.useEffect(function () {\n        invariant(condition, method + \" requires a URL to be set as the 1st argument,\\n\\n      unless you wrap your app like:\\n\\n      <Provider url=\\\"\" + exampleURL + \"\\\"><App /></Provider>\\n\\n      \" + optionalMessage);\n    }, [condition, exampleURL, method, optionalMessage]);\n}\nexports.useURLRequiredInvariant = useURLRequiredInvariant;\nexports.isString = function (x) { return typeof x === 'string'; }; // eslint-disable-line\n/**\n * Determines if the given param is an object. {}\n * @param obj\n */\nexports.isObject = function (obj) { return Object.prototype.toString.call(obj) === '[object Object]'; }; // eslint-disable-line\n/**\n * Determines if the given param is an object that can be used as a request body.\n * Returns true for native objects or arrays.\n * @param obj\n */\nexports.isBodyObject = function (obj) { return exports.isObject(obj) || Array.isArray(obj); };\nexports.isFunction = function (v) { return typeof v === 'function'; };\nexports.isNumber = function (v) { return Object.prototype.toString.call(v) === '[object Number]'; };\nexports.remove = function (val) { return ({\n    from: function (arr) {\n        if (!arr)\n            return;\n        var index = arr.indexOf(val);\n        if (index >= 0)\n            arr[index] = arr[arr.length - 1], arr.pop();\n    }\n}); };\n// const requestFields = Object.getOwnPropertyNames(Object.getPrototypeOf(new Request('')))\n// const responseFields = Object.getOwnPropertyNames(Object.getPrototypeOf(new Response()))\n// export const customResponseFields = [...responseFields, 'data']\n// TODO: come back and fix the \"anys\" in this http://bit.ly/2Lm3OLi\n/**\n * Makes an object that will match the standards of a normal fetch's options\n * aka: pulls out all useFetch's special options like \"onMount\"\n */\nexports.pullOutRequestInit = function (options) {\n    if (!options)\n        return {};\n    var requestInitFields = [\n        'body',\n        'cache',\n        'credentials',\n        'headers',\n        'integrity',\n        'keepalive',\n        'method',\n        'mode',\n        'redirect',\n        'referrer',\n        'referrerPolicy',\n        'signal',\n        'window'\n    ];\n    return requestInitFields.reduce(function (acc, key) {\n        if (key in options)\n            acc[key] = options[key];\n        return acc;\n    }, {});\n};\nexports.isEmpty = function (x) { return x === undefined || x === null; };\nvar Device;\n(function (Device) {\n    Device[\"Browser\"] = \"browser\";\n    Device[\"Server\"] = \"server\";\n    Device[\"Native\"] = \"native\";\n})(Device = exports.Device || (exports.Device = {}));\nvar Browser = Device.Browser, Server = Device.Server, Native = Device.Native;\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n    window.document &&\n    window.document.createElement);\nvar canUseNative = typeof navigator !== 'undefined' && navigator.product === 'ReactNative';\nvar device = canUseNative ? Native : canUseDOM ? Browser : Server;\nexports.isBrowser = device === Browser;\nexports.isServer = device === Server;\nexports.isNative = device === Native;\nexports.tryGetData = function (res, initialData, responseType) { return __awaiter(void 0, void 0, void 0, function () {\n    var types, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (typeof res === 'undefined')\n                    throw Error('Response cannot be undefined... ðŸ˜µ');\n                if (typeof responseType === 'undefined')\n                    throw Error('responseType cannot be undefined... ðŸ˜µ');\n                types = (Array.isArray(responseType) ? responseType : [responseType]);\n                if (types[0] == null)\n                    throw Error('could not parse data from response ðŸ˜µ');\n                return [4 /*yield*/, tryRetry(res, types)];\n            case 1:\n                data = _a.sent();\n                return [2 /*return*/, exports.isFunction(initialData) ? initialData(data) : data || initialData];\n        }\n    });\n}); };\nvar tryRetry = function (res, types, i) {\n    if (i === void 0) { i = 0; }\n    return __awaiter(void 0, void 0, void 0, function () {\n        var error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, res.clone()[types[i]]()];\n                case 1: return [2 /*return*/, _a.sent()];\n                case 2:\n                    error_1 = _a.sent();\n                    if (types.length - 1 === i)\n                        throw error_1;\n                    return [2 /*return*/, tryRetry(res.clone(), types, ++i)];\n                case 3: return [2 /*return*/];\n            }\n        });\n    });\n};\nexports.responseFields = ['headers', 'ok', 'redirected', 'trailer', 'status', 'statusText', 'type', 'url', 'body', 'bodyUsed', 'data'];\nexports.responseMethods = ['clone', 'arrayBuffer', 'blob', 'formData', 'json', 'text'];\nexports.responseKeys = __spreadArrays(exports.responseFields, exports.responseMethods);\nexports.toResponseObject = function (res, data) { return Object.defineProperties({}, exports.responseKeys.reduce(function (acc, field) {\n    if (exports.responseFields.includes(field)) {\n        acc[field] = {\n            get: function () {\n                var response = res instanceof Response ? res : res && res.current;\n                if (!response)\n                    return;\n                if (field === 'data')\n                    return data.current;\n                var clonedResponse = ('clone' in response ? response.clone() : {});\n                return clonedResponse[field];\n            },\n            enumerable: true\n        };\n    }\n    else if (exports.responseMethods.includes(field)) {\n        acc[field] = {\n            value: function () {\n                var response = res instanceof Response ? res : res && res.current;\n                if (!response)\n                    return;\n                var clonedResponse = ('clone' in response ? response.clone() : {});\n                return clonedResponse[field]();\n            },\n            enumerable: true\n        };\n    }\n    return acc;\n}, {})); };\nexports.emptyCustomResponse = exports.toResponseObject();\n// TODO: switch this to .reduce()\nvar headersAsObject = function (headers) {\n    var obj = {};\n    headers.forEach(function (value, key) {\n        obj[key] = value;\n    });\n    return obj;\n};\nexports.serializeResponse = function (response) { return __awaiter(void 0, void 0, void 0, function () {\n    var body, status, statusText, headers;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, response.text()];\n            case 1:\n                body = _a.sent();\n                status = response.status, statusText = response.statusText;\n                headers = headersAsObject(response.headers);\n                return [2 /*return*/, {\n                        body: body,\n                        status: status,\n                        statusText: statusText,\n                        headers: headers\n                    }];\n        }\n    });\n}); };\nfunction useDeepCompareMemoize(value) {\n    var ref = react_1.useRef();\n    if (JSON.stringify(value) !== JSON.stringify(ref.current))\n        ref.current = value;\n    return ref.current;\n}\nexports.useDeepCallback = function (cb, deps) { return react_1.useCallback(cb, useDeepCompareMemoize(deps)); };\nexports.sleep = function (ms) { return new Promise(function (resolve) { return setTimeout(resolve, ms); }); };\nexports.isPositiveNumber = function (n) { return Number.isInteger(n) && n > 0; };\nexports.makeError = function (name, message) {\n    var error = new Error(message);\n    error.name = name + '';\n    return error;\n};\n/**\n * Determines if we need to add a slash to front\n * of a path, and adds it if we do.\n * Cases:\n * (path = '', url = '' || null | undefined) => ''\n * (path = '?foo=bar', url = 'a.com')        => '?foo=bar'\n * (path = '?foo=bar', url = 'a.com/')       => '?foo=bar'\n * (path = 'foo', url = 'a.com')             => '/foo'\n * (path = 'foo', url = 'a.com/')            => 'foo'\n * (path = '/foo', url = 'a.com')            => '/foo'\n * (path = '/foo', url = 'a.com/')           => 'foo'\n * (path = '?foo=bar')                       => '?foo=bar'\n * (path = 'foo')                            => '/foo'\n * (path = '/foo')                           => '/foo'\n */\nexports.addSlash = function (input, url) {\n    if (!input)\n        return '';\n    if (!url) {\n        if (input.startsWith('?') || input.startsWith('/'))\n            return input;\n        return \"/\" + input;\n    }\n    if (url.endsWith('/') && input.startsWith('/'))\n        return input.substr(1);\n    if (!url.endsWith('/') && !input.startsWith('/') && !input.startsWith('?'))\n        return \"/\" + input;\n    return input;\n};\n//# sourceMappingURL=utils.js.map"]},"metadata":{},"sourceType":"script"}